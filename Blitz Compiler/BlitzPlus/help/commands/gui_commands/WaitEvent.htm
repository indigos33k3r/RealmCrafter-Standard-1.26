<html>
<head>
<title>BlitzPlus Docs</title>
<link rel=stylesheet href=../css/commands.css type=text/css>
</head>
<body>
<h1>WaitEvent( [timeout] )</h1>
<h1>Parameters</h1>
<table>
<tr>
<td>
timeout - How long waitevent should wait, in milliseconds.
</td>
</tr>
</table>
<h1>Description</h1>
<table>
<tr>
<td>
WaitEvent waits for an event and returns its id.<br />
<br />
If no event occurs within the specified timeout, WaitEvent returns 0.<br />
<br />
If the timeout parameter is omitted, WaitEvent waits indefinitely.<br />
<br />
Event identifiers:<br />
<br />
$101 - Key down<br />
Generated when the user presses a key. EventData contains the 'raw scancode' of the key.<br />
<br />
$102 - Key up<br />
Generated when the user releases a key. EventData contains the 'raw scancode' of the key.<br />
<br />
$103 - Key stroke <br />
Generated when the user presses a key or when a keystroke is automatically generated due to keyboard repeat. EventData contains the ascii code of the key. <br />
<br />
$201 - Mouse down <br />
Generated when the user presses a mouse button while the mouse is positioned over a non-interactive gadget (such as a canvas, window, panel or label, but not a button). EventData contains the button being pressed: 1 for the left button, 2 for the right button or 3 for the middle button. EventSource contains the gadget handle.  Note that you will only get a gadget action event ($401) for buttons, not a mouse down and a mouse up.<br />
<br />
$202 - Mouse up<br />
Generated when the user releases a mouse button while the mouse is positioned over a non-interactive gadget (such as a canvas, window, panel or label, but not a button). EventData contains the button be release: 1 for the left button, 2 for the right button or 3 for the middle button. EventSource contains the gadget handle.<br />
<br />
$203 - Mouse move<br />
Generated when the user moves the mouse while it is positioned over a canvas gadget. EventX and EventY contain the new mouse coordinates, and EventSource contains the canvas gadget handle.<br />
<br />
$204 - Mouse wheel<br />
Generated when the user spins the mouse wheel. EventData contains the number of 'clicks' the wheel has<br />
been spun.  This event is generated irrespective of the mouse being over a gadget or not.  As such EventSource contains the currently active window handle.<br />
<br />
$205 - Mouse enter<br />
Generated when the mouse pointer enters a canvas gadget.<br />
<br />
$206 - Mouse leave<br />
Generated when the mouse pointer leaves a canvas gadget.<br />
<br />
$401 - Gadget action<br />
Generated when the user changes the state of a gadget. This can include such actions as pressing a button, or typing into a textfield. EventSource contains the handle of the gadget that caused the event.<br />
<br />
$801 - Window move<br />
Generated when the user moves a window. EventSource contains the handle of the window gadget that has moved, and EventX and EventY contain the new location of the window.<br />
<br />
$802 - Window size<br />
Generated when the user sizes a window. EventSource contains the handle of the window gadget that has sized, and EventX and EventY contain the new size of the window.<br />
<br />
$803 - Window close<br />
Generated when the user clicks a window's 'close' box. It is up to the program to actually close the window (see FreeGadget).<br />
<br />
$804 - Window activate<br />
Generated when the user activates a window. EventSource contains the handle of the window gadget that was activated.<br />
<br />
$1001 - Menu event<br />
Generated when the user selects a menu. EventData contains the integer identifier of the menu selected.<br />
<br />
$2001 - App suspend<br />
Generated when the user switches to another application.<br />
<br />
$2002 - App resume<br />
Generated when the user switches back to your application.<br />
<br />
$2003 - App Display Change<br />
Generated when the display mode changes.<br />
<br />
$2004 - App Begin Modal<br />
Generated when the application goes into a modal event loop. This is typically caused by resizing a window<br />
or dragging a slider. You shouldn't generally have to worry about modal event loops.<br />
<br />
$2005 - App End Modal<br />
Generated when the application ends a modal event loop.<br />
<br />
$4001 - Timer tick<br />
Generated when a custom timer ticks over (see Timers). EventSource contains the handle of the timer, and EventData contains the total number of timer ticks that have occurred.
<br>
<br>
See also: <a class=small href=EventID.htm>EventID</a>, <a class=small href=EventSource.htm>EventSource</a>, <a class=small href=EventData.htm>EventData</a>, <a class=small href=EventX.htm>EventX</a>, <a class=small href=EventY.htm>EventY</a>, <a class=small href=PeekEvent.htm>PeekEvent</a>, <a class=small href=FlushEvent.htm>FlushEvent</a>.
</td>
</tr>
</table>
<h1><a href=../gui_examples/WaitEvent.bb>Example</a></h1>
<table>
<tr>
<td>
; Example originally provided by Mag, tidied up by Mark Tiffany<br />
<br />
; create a window...<br />
WinHandle=CreateWindow("WaitEvent Example",0,0,400,200) <br />
; ...and a single button upon that window<br />
ExitButton=CreateButton("Exit",50,50,300,40,WinHandle) <br />
<br />
; main loop to handle events<br />
Repeat <br />
If WaitEvent()=$401 Then <br />
If EventSource()=ExitButton Then Exit <br />
End If <br />
Forever<br />
End
</td>
</tr>
</table>
<br>
<a target=_top href=../index.htm>Index</a><br>
<br>
Click <a href=http://www.blitzbasic.co.nz/bpdocs/command.php?name=WaitEvent&ref=comments target=_blank>here</a> to view the latest version of this page online</body>
</html>
