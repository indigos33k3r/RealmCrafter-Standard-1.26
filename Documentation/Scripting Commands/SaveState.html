<head>
<title>Realm Crafter Documentation</title>
</head>

<body bgcolor="#FFFFFF" text="#000000" vlink="#000000" bgproperties="fixed" link="#000000" alink="#000000">

<p align="center">
	<font size="20">
	<b> SaveState </b>
	</font>
</p>

<br>
<br>

<p>
	<b>Usage:</b> <br>
	<pre>		SaveState()</pre>
</p>

<br>
<br>

<p>
	<b>Description:</b> <br>
	The SaveState command forces the server to pause and save the state of all dynamic data such as
	player characters, superglobals, zone object ownerships, time and date, and dropped/spawned items.
	These saved data will be reloaded when the server is restarted after closing abnormally
	(e.g. in the event of a crash). This command is useful to make regular backups, or backups
	after important events, but should not be called too frequently as the server will pause for a
	moment as it accesses the disk, which may briefly interrupt players.
</p>

<br>
<br>

<p>
	<b>Example:</b> <br>
	<pre>
		; Save state every in-game day at midnight
		Function Main()
			; Wait for 12:00
			.MidnightLoop
			DoEvents(500)
			If (Hour() != 0 | Minute() != 0)
				GoTo(MidnightLoop)
			EndIf

			; Save
			SaveState()

			; Wait for 12:01, then return to the beginning
			.MidnightOneLoop
				DoEvents(500)
				If (Minute() > 0)
					GoTo(MidnightLoop)
				EndIf
			GoTo(MidnightOneLoop)

		End Function
	</pre>
</p>

<p align="center">
	<a href="ScriptingCommandIndex.html">Back To Scripting</a>
</p>

</body>